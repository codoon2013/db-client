# 使用指南

本文档提供 DB-Client 的详细使用说明和示例。

## 📖 目录

- [快速开始](#快速开始)
- [多数据库连接管理](#多数据库连接管理)
- [数据库操作](#数据库操作)
- [系统监控](#系统监控)
- [设置配置](#设置配置)
- [常见问题](#常见问题)

## 🚀 快速开始

### 启动应用

```bash
# 开发模式
npm run dev

# 生产模式
npm start
```

### 界面概览

应用包含以下主要视图：

1. **仪表板** - 系统监控和概览
2. **文件管理** - 文件浏览和管理
3. **应用程序** - 应用快捷方式
4. **系统设置** - 个性化配置
5. **网络** - 网络状态监控
6. **数据库** - MySQL 数据库操作

## 🔗 多数据库连接管理

### 连接管理界面

数据库视图现在支持管理多个数据库连接：

#### 连接列表
- 显示所有保存的数据库连接
- 每个连接显示名称、主机、端口、数据库名
- 连接状态指示器（绿色=已连接，红色=未连接）
- 快速连接/断开操作

#### 连接操作
- **测试连接**: 验证连接配置是否正确
- **保存连接**: 保存连接信息供下次使用
- **编辑连接**: 修改已保存的连接配置
- **断开**: 断开当前连接
- **删除**: 删除保存的连接配置

### 连接配置示例

#### 本地开发环境
```
连接名称: 本地开发
主机: localhost
端口: 3306
用户名: root
密码: 123456
数据库: dev_db
```

#### 远程生产环境
```
连接名称: 生产环境
主机: 192.168.1.100
端口: 3306
用户名: prod_user
密码: prod_password
数据库: production_db
```

#### 云数据库
```
连接名称: 阿里云RDS
主机: rm-bp1836rs430pk3y63co.mysql.rds.aliyuncs.com
端口: 3306
用户名: readonly
密码: wmQ7a8t1rXsWP1ML
数据库: club_mini
```

### 连接状态管理

- **当前连接**: 显示当前活跃的数据库连接
- **连接切换**: 点击连接列表中的项目快速切换
- **状态监控**: 实时显示连接状态和最后使用时间
- **自动重连**: 支持连接断开后的自动重连

### 连接管理操作

#### 新建连接
1. 点击"新建连接"按钮，弹出连接配置对话框
2. 在对话框中填写连接信息：
   - **连接名称**: 给连接起个便于识别的名字（必填）
   - **主机地址**: 数据库服务器地址（必填，默认localhost）
   - **端口**: 数据库端口（必填，默认3306）
   - **用户名**: 数据库用户名（必填）
   - **密码**: 数据库密码（必填）
   - **数据库名**: 要连接的数据库名（必填）
3. 点击"测试连接"验证配置是否正确
4. 点击"保存连接"保存配置并关闭对话框

#### 编辑连接
1. 在连接列表中找到要编辑的连接
2. 点击连接项目右侧的"编辑"按钮（铅笔图标）或双击连接项目
3. 在弹出的对话框中修改连接信息
4. 点击"测试连接"验证修改后的配置
5. 点击"保存连接"保存修改并关闭对话框

**提示**: 
- 双击连接项目可以快速进入编辑模式
- 编辑当前使用的连接时，系统会提示您重新连接以确保配置生效

#### 连接操作
- **连接**: 点击连接项目或"连接"按钮建立数据库连接
- **断开**: 点击"断开"按钮断开当前连接
- **删除**: 点击"删除"按钮（垃圾桶图标）删除连接配置

## 🗄️ 数据库操作

### 基本查询

#### 连接数据库
1. 在连接列表中选择要使用的连接
2. 点击"连接"按钮
3. 连接成功后状态指示器变为绿色

#### 执行查询
1. 在连接列表中选择要使用的连接
2. 点击"连接"按钮
3. 连接成功后状态指示器变为绿色

#### 查询操作
- **执行查询**: 在查询框中输入SQL语句，点击"执行查询"按钮
- **查询历史**: 点击"查询历史"按钮查看和重用之前的查询
- **导出结果**: 执行SELECT查询后，点击"导出结果"保存为CSV文件
- **导入数据**: 点击"导入数据"从CSV文件导入数据到数据库

#### 查询历史功能
- **自动保存**: 每次成功执行的查询会自动保存到历史记录
- **快速重用**: 点击历史记录中的查询可以快速加载到查询框
- **智能去重**: 相同的查询语句不会重复保存
- **时间显示**: 显示查询执行的时间和返回的记录数
- **限制数量**: 最多保存最近20条查询记录

#### 查询结果显示
- **表格展示**: 查询结果以表格形式清晰展示
- **执行统计**: 显示返回记录数和执行时间
- **数据格式化**: 自动格式化日期、JSON等特殊数据类型
- **长文本处理**: 长文本自动截断，鼠标悬停查看完整内容
- **NULL值标识**: 空值以特殊样式显示

### 数据导出

#### 导出步骤
1. 执行 SELECT 查询
2. 点击"导出结果"按钮
3. 选择保存位置
4. 数据将导出为 CSV 文件

#### 导出示例
```sql
-- 导出用户数据
SELECT id, username, email, created_at FROM users WHERE status = 'active';

-- 导出订单数据
SELECT 
    o.id,
    u.username,
    o.total_amount,
    o.status,
    o.created_at
FROM orders o
JOIN users u ON o.user_id = u.id
WHERE o.created_at >= '2024-01-01';
```

### 数据导入

#### 导入步骤
1. 准备 CSV 文件（第一行为字段名）
2. 点击"导入数据"按钮
3. 选择 CSV 文件
4. 输入目标表名
5. 点击确认开始导入

#### CSV 文件格式
```csv
id,name,email,status,created_at
1,张三,zhangsan@example.com,active,2024-01-01 10:00:00
2,李四,lisi@example.com,active,2024-01-02 11:00:00
3,王五,wangwu@example.com,inactive,2024-01-03 12:00:00
```

#### 导入示例
```sql
-- 导入用户数据
表名: users
CSV 字段: id,name,email,status,created_at

-- 导入产品数据
表名: products
CSV 字段: id,name,price,category,description
```

## 🖥️ 系统监控

### 系统信息
- **CPU 使用率**: 实时显示 CPU 占用情况
- **内存使用率**: 显示内存使用百分比
- **磁盘使用率**: 显示磁盘空间使用情况

### 时间显示
- **当前时间**: 实时显示系统时间
- **当前日期**: 显示完整日期信息

### 网络状态
- **连接状态**: 显示网络连接情况
- **网络类型**: 显示连接类型（Wi-Fi/有线）
- **IP 地址**: 显示当前 IP 地址
- **信号强度**: 显示网络信号质量

### 电池状态
- **电量百分比**: 显示当前电池电量
- **充电状态**: 显示是否正在充电

## ⚙️ 设置配置

### 外观设置

#### 主题模式
- **浅色主题**: 适合明亮环境
- **深色主题**: 适合暗光环境
- **自动主题**: 跟随系统设置

#### 字体大小
- 范围: 12px - 20px
- 默认: 14px
- 实时预览效果

### 系统设置

#### 开机自启动
- 启用后应用将随系统启动
- 仅在 macOS 和 Windows 上有效

#### 系统托盘
- 启用后支持最小化到系统托盘
- 点击托盘图标可恢复窗口

### 数据库设置

#### 连接配置
- 支持保存常用连接配置
- 自动填充上次使用的连接信息
- 支持多数据库连接管理

#### 查询设置
- 自动添加 LIMIT 限制
- 查询结果格式化
- 时间字段本地化显示

## 🐛 常见问题

### 连接问题

#### Q: 无法连接到数据库
**A:** 请检查以下项目：
1. 主机地址是否正确
2. 端口号是否正确（默认3306）
3. 用户名和密码是否正确
4. 数据库名是否存在
5. 网络连接是否正常
6. 防火墙是否阻止连接

#### Q: 连接超时
**A:** 可以尝试：
1. 增加连接超时时间
2. 检查网络延迟
3. 确认数据库服务器负载情况

### 查询问题

#### Q: 查询结果为空
**A:** 可能的原因：
1. 表名或字段名错误
2. 查询条件过于严格
3. 数据库中没有匹配的数据

#### Q: 查询执行很慢
**A:** 建议：
1. 添加适当的索引
2. 优化查询语句
3. 减少返回的数据量

### 导入导出问题

#### Q: CSV导入失败
**A:** 请检查：
1. CSV文件格式是否正确
2. 字段名是否与表结构匹配
3. 数据类型是否兼容
4. 表是否有主键冲突

#### Q: 导出文件乱码
**A:** 解决方案：
1. 确保CSV文件使用UTF-8编码
2. 检查中文字符是否正确显示

### 应用问题

#### Q: 应用无法启动
**A:** 解决方案：
1. 检查 Node.js 版本
2. 重新安装依赖：`npm install`
3. 清除缓存：`npm cache clean --force`
4. 检查系统权限

#### Q: 界面显示异常
**A:** 解决方案：
1. 重启应用
2. 检查显示设置
3. 更新显卡驱动
4. 重置应用设置

## 💡 使用技巧

### 快捷键
- `Cmd/Ctrl + Q`: 退出应用
- `Cmd/Ctrl + M`: 最小化到托盘
- `Cmd/Ctrl + ,`: 打开设置

### 最佳实践
1. **定期备份**: 重要操作前备份数据
2. **测试查询**: 复杂查询先在测试环境验证
3. **分批处理**: 大量数据分批导入导出
4. **权限管理**: 使用最小权限原则

### 性能优化
1. **查询优化**: 使用索引和合适的查询条件
2. **连接管理**: 及时关闭不需要的连接
3. **资源监控**: 定期检查系统资源使用情况

## 📞 获取帮助

如果您在使用过程中遇到问题：

1. 查看本文档的常见问题部分
2. 搜索 GitHub Issues
3. 提交新的 Issue
4. 联系技术支持

---

**注意**: 本应用仅用于开发和测试环境，不建议在生产环境中使用。 